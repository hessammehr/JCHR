package compiler.codeGeneration;

import static be.kuleuven.jchr.About.SYSTEM_URL;
import static be.kuleuven.jchr.About.getFullSystemNameAndVersion;

/**
 * Look at what happens if a nerd has too much time on his hands! 
 * 
 * @author Peter Van Weert
 */
public class HeaderCodeGenerator extends JavaCodeGenerator {
	public HeaderCodeGenerator(CodeGenerator codeGenerator) {
		super(codeGenerator);
	}

	@Override
	protected void doGenerate() throws GenerationException {
		final byte[] _750_BYTES = {
			32,42,-5,32,-2,95,-3,32,-2,95,41,-2,32,-2,95,-5,32,-2,95,41,-5,32,95,-52,32
			,42,0,32,42,-4,32,40,44,32,41,32,47,-4,32,40,44,32,47,-3,32,47,-4,32,-3,95,
			47,-2,95,41,-50,32,42,0,32,42,-6,32,47,40,-8,32,47,-3,32,47,-4,32,40,44,32,
			47,-4,32,95,-5,32,95,32,95,-3,32,95,32,-2,95,-34,32,42,0,32,42,-3,32,41,32,47
			,-2,32,92,95,-2,32,111,-2,32,47,-3,32,47,-4,32,111,-2,32,47,-3,32,95,40,47,
			95,40,95,40,95,40,47,-3,95,40,47,95,47,32,40,95,-32,32,42,0,32,42,-2,32,40,
			95,47,-5,32,-4,74,40,-3,95,40,95,74,-5,32,40,-5,95,-8,67,-9,72,-5,32,-9,72,
			-17,82,-3,32,42,0,32,42,-9,32,74,-9,58,74,-3,32,-3,67,-12,58,67,72,-7,58,72,
			-5,32,72,-7,58,72,82,-16,58,82,-3,32,42,0,32,42,-9,32,74,-9,58,74,32,-2,67,-
			15,58,67,72,-7,58,72,-5,32,72,-7,58,72,82,-6,58,-6,82,-5,58,82,-2,32,42,0,32
			,42,-9,32,-2,74,-7,58,-2,74,67,-5,58,-8,67,-4,58,67,-2,72,-6,58,72,-5,32,72
			,-6,58,-2,72,-2,82,-5,58,82,-5,32,82,-5,58,82,32,42,0,32,42,-11,32,74,-5,58,
			74,32,67,-5,58,67,-7,32,-6,67,-2,32,72,-5,58,72,-5,32,72,-5,58,72,-4,32,82,
			-4,58,82,-5,32,82,-5,58,82,32,42,0,32,42,-11,32,74,-5,58,74,67,-5,58,67,-16,
			32,72,-5,58,72,-5,32,72,-5,58,72,-4,32,82,-4,58,82,-5,32,82,-5,58,82,32,42,
			0,32,42,-11,32,74,-5,58,74,67,-5,58,67,-16,32,72,-6,58,-5,72,-6,58,72,-4,32,
			82,-4,58,-6,82,-5,58,82,-2,32,42,0,32,42,-11,32,74,-5,58,74,67,-5,58,67,-16,
			32,72,-17,58,72,-4,32,82,-13,58,-2,82,-3,32,42,0,-13,32,74,-5,58,74,67,-5,58
			,67,-16,32,72,-17,58,72,-4,32,82,-4,58,-6,82,-5,58,82,-2,32,42,0,32,-7,74,-5
			,32,74,-5,58,74,67,-5,58,67,-16,32,72,-6,58,-5,72,-6,58,72,-4,32,82,-4,58,82
			,-5,32,82,-5,58,82,32,42,0,32,74,-5,58,74,-5,32,74,-5,58,74,67,-5,58,67,-16
			,32,72,-5,58,72,-5,32,72,-5,58,72,-4,32,82,-4,58,82,-5,32,82,-5,58,82,32,42
			,0,32,74,-6,58,74,-3,32,74,-6,58,74,32,67,-5,58,67,-7,32,-6,67,-2,32,72,-5,
			58,72,-5,32,72,-5,58,72,-4,32,82,-4,58,82,-5,32,82,-5,58,82,32,42,0,32,74,-7
			,58,-3,74,-7,58,74,-2,32,67,-5,58,-8,67,-4,58,67,-2,72,-6,58,72,-5,32,72,-6
			,58,-2,72,-2,82,-5,58,82,-5,32,82,-5,58,82,32,42,0,-2,32,-2,74,-13,58,-2,74,
			-4,32,-2,67,-15,58,67,72,-7,58,72,-5,32,72,-7,58,72,82,-6,58,82,-5,32,82,-5
			,58,82,32,42,0,-4,32,-2,74,-9,58,-2,74,-8,32,-3,67,-12,58,67,72,-7,58,72,-5,
			32,72,-7,58,72,82,-6,58,82,-5,32,82,-5,58,82,32,42,0,32,42,-4,32,-9,74,-13,
			32,-13,67,-9,72,-5,32,-9,72,-8,82,-5,32,-7,82,32,42,0,32,42,-83,32,42
		};
		
		tprint("/*"); printx(" *", 42); println('\\');
		printTabs();
		for (int i = 0; i < _750_BYTES.length; i++) {
			if (_750_BYTES[i] == 0) {
				nl();
				printTabs();
			} else if (_750_BYTES[i] >= 0) {
				print((char)_750_BYTES[i]);
			} else {
				printx((char)_750_BYTES[i+1], -_750_BYTES[i++]);
			}
		}
		nl();
		String s;
		tprint(" * This file was generated by t"); print(s = getFullSystemNameAndVersion().substring(1)); 
			printx(' ', 54 - s.length()); println('*');
		tprint(" * (available at "); print(s = SYSTEM_URL.toExternalForm()); print(")."); 
			printx(' ', 66 - s.length()); println('*');
		tprint(" *"); printx(' ', 83); println('*');
		tprint(" * Do not edit: edit the jchr-source file instead."); printx(' ', 35); println('*');
		tprint("\\*"); printx(" *", 42); println('/');
	}
}